{"version":3,"file":"static/js/853.9231c323.chunk.js","mappings":"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","sources":["components/Error/Error.jsx","components/services.js","webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","webpack://goit-react-hw-05-movies/./src/components/MovieInfoComponent/movieInfoComponent.module.css?0ca7","components/MovieInfoComponent/MovieInfoComponent.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieInfo/MovieInfo.module.css?df02","components/MovieInfo/MovieInfo.jsx","webpack://goit-react-hw-05-movies/./src/components/MovieInfoSeeMore/MovieInfoSeeMore.module.css?bf69","components/MovieInfoSeeMore/MovieInfoSeeMore.jsx","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["const Error = () => {\n  return (\n    <p>Oops, something went wrong. Try again!</p>\n  )\n}\n\nexport default Error","const BASE_URL = 'https://api.themoviedb.org/3';\nconst OPTIONS = {headers: {Authorization: 'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIxZWIxOWFlZTJiNTU2ZTg3MmFlYjRkMTJmM2UzZDBlZiIsInN1YiI6IjY0NmY2NjQzMTdjNDQzMDBjMjI0OTMzZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.nSQ1KLIUK97f2ypbV38GEeFR4HBt9RE_gR1cSa6SUjM'}}\n\nfunction fetchFunc (query) {\n    return fetch(`${BASE_URL}/${query}`, OPTIONS).then( response => {\n        if(!response.ok) return Promise.reject(response.status)\n        // console.log(response)\n        return response.json(); \n    })\n}\n\nexport default fetchFunc;\n\n","// extracted by mini-css-extract-plugin\nexport default {\"det\":\"MovieDetails_det__HX3Ca\",\"button\":\"MovieDetails_button__uXZxd\"};","// extracted by mini-css-extract-plugin\nexport default {\"descr\":\"movieInfoComponent_descr__2tUgQ\"};","\nimport css from './movieInfoComponent.module.css'\n\nconst MovieInfoComponent = ({title, info}) => {\n  return (\n    <>\n    <h4>{title}</h4>\n    <p className={css.descr}>{info}</p>\n    </>\n  )\n}\n\nexport default MovieInfoComponent","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MovieInfo_wrapper__TIELc\",\"title\":\"MovieInfo_title__oNnRW\",\"rating\":\"MovieInfo_rating__1fUe2\",\"overview\":\"MovieInfo_overview__yDlwF\",\"genres\":\"MovieInfo_genres__SMFEJ\"};","import MovieInfoComponent from 'components/MovieInfoComponent/MovieInfoComponent';\nimport css from './MovieInfo.module.css';\n\nconst MovieInfo = ({ poster, title, rating, overview, genres }) => {\n  return (\n    <div className={css.wrapper}>\n      <div>\n        <img src={poster} alt=\"poster\" width=\"200\" />\n      </div>\n\n      <div>\n        <h2 className={css.title}>{title}</h2>\n        {rating !== 0 && <p className={css.rating}>Rating: {rating}/10</p>}\n\n        {overview && (\n          <div className={css.overview}>\n            <>\n              <MovieInfoComponent title=\"Overview\" info={overview} />\n            </>\n          </div>\n        )}\n\n        <div className={css.genres}>\n          {genres && (\n            <>\n              <MovieInfoComponent title=\"Genres\" info={genres} />\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieInfo;\n","// extracted by mini-css-extract-plugin\nexport default {\"seeMore\":\"MovieInfoSeeMore_seeMore__25BVP\",\"list\":\"MovieInfoSeeMore_list__Yc-T-\",\"link\":\"MovieInfoSeeMore_link__PUIYs\"};","import { NavLink } from 'react-router-dom';\nimport css from './MovieInfoSeeMore.module.css';\n\nconst MovieInfoSeeMore = () => {\n  return (\n    <>\n      <div className={css.seeMore}>\n        <h4>See more:</h4>\n        <ul className={css.list}>\n          <li className={css.link}>\n            <NavLink to=\"cast\">Cast</NavLink>\n          </li>\n          <li className={css.link}>\n            <NavLink to=\"reviews\">Reviews</NavLink>\n          </li>\n        </ul>\n      </div>\n    </>\n  );\n};\n\nexport default MovieInfoSeeMore;\n","import { Outlet, Link, useParams, useLocation } from 'react-router-dom';\nimport { Suspense, useRef } from 'react';\nimport { useState, useEffect } from 'react';\nimport fetchFunc from 'components/services';\nimport css from './MovieDetails.module.css';\nimport Loading from 'components/Loader/Loader';\nimport Error from 'components/Error/Error';\nimport MovieInfo from 'components/MovieInfo/MovieInfo';\nimport MovieInfoSeeMore from 'components/MovieInfoSeeMore/MovieInfoSeeMore';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [title, setTitle] = useState('');\n  const [poster, setPoster] = useState('');\n  const [overview, setOverview] = useState('');\n  const [genres, setGenres] = useState('');\n  const [rating, setRating] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const location = useRef(useLocation());\n  const goBackPath = location.current.state?.from ?? '/';\n\n  const defaultPoster =\n    'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQb17OLPVxDbgiMnuuXiy3uJoJaUQRsGB6y8Q&usqp=CAU';\n\n  useEffect(() => {\n    setIsLoading(true);\n    setError(false);\n    fetchFunc(`/movie/${movieId}?append_to_response=poster_path`)\n      .then(data => {\n        setTitle(data.title);\n        if (data.poster_path) {\n          setPoster(`https://image.tmdb.org/t/p/w500${data.poster_path}`);\n        } else {\n          setPoster(defaultPoster);\n        }\n        setOverview(data.overview);\n        setGenres(data.genres.map(genre => genre.name).join(', '));\n        setRating(data.vote_average !== 0 ? data.vote_average.toFixed(1) : 0);\n      })\n      .catch(() => {\n        setError(true);\n      })\n      .finally(() => setIsLoading(false));\n  }, [movieId]);\n\n  return (\n    <div className={css.det}>\n      <Link to={goBackPath} className={css.button}>\n        ‚Üê Go back\n      </Link>\n\n      {isLoading && <Loading />}\n      {error && <Error />}\n\n      <MovieInfo\n        poster={isLoading ? defaultPoster : poster}\n        title={isLoading ? 'Loading...' : title || 'No title available'}\n        rating={isLoading ? 'Loading...' : rating || '0.0'}\n        overview={\n          isLoading ? 'Loading...' : overview || 'No overview available'\n        }\n        genres={isLoading ? 'Loading...' : genres || 'No genres available'}\n      />\n\n      <MovieInfoSeeMore />\n\n      <Suspense fallback={<Loading />}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["OPTIONS","headers","Authorization","query","fetch","then","response","ok","json","Promise","reject","status","title","info","className","css","poster","rating","overview","genres","src","alt","width","to","movieId","useParams","useState","setTitle","setPoster","setOverview","setGenres","setRating","isLoading","setIsLoading","error","setError","goBackPath","useRef","useLocation","current","state","from","defaultPoster","useEffect","fetchFunc","data","poster_path","map","genre","name","join","vote_average","toFixed","catch","finally","Error","Suspense","fallback"],"sourceRoot":""}