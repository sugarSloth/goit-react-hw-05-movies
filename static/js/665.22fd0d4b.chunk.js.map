{"version":3,"file":"static/js/665.22fd0d4b.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/Home/Home.module.scss?ce6f","pages/Home/Home.jsx","tmdbApi/tmdb-api.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Home_title__bv67-\"};","import { Suspense, lazy, useEffect, useState } from 'react';\nimport { getTrending } from 'tmdbApi/tmdb-api';\nimport scss from './Home.module.scss';\n\nconst MoviesList = lazy(() => import('../../components/MoviesList'));\nconst Loader = lazy(() => import('../../components/Loader'));\n\nexport default function Home() {\n  const [trending, setTrending] = useState([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await getTrending();\n        const trendingList = data.results.map(\n          ({ backdrop_path, id, poster_path, title }) => {\n            return { backdrop_path, id, poster_path, title };\n          }\n        );\n        setTrending(trendingList);\n      } catch (error) {\n        console.log(`Error in Home page during getTrending: ${error}`);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <>\n      <h2 className={scss.title}>Trending today</h2>\n      <Suspense fallback={<Loader />}>\n        {trending.length === 0 ? (\n          <h2>Something going wrong...</h2>\n        ) : (\n          <MoviesList movies={trending} />\n        )}\n      </Suspense>\n    </>\n  );\n}\n","const ORIGIN = 'https://api.themoviedb.org/3/';\nconst API_TOKEN =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiODRhNTAzMjMxNWZiYTc1ZjI0MGI3NDVjYTdjYzBhZiIsInN1YiI6IjY0NzBiZWJlMzM2ZTAxMDBlODBjNTYyZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.f2kRYsL7gY4sDbVFKpKd_M1rnGrppV5NDL6eESs9EQU';\n\nconst urlParams = {\n  BASE_URL: 'https://image.tmdb.org/t/p/',\n  POSTER_SIZE: 'w500',\n  PHOTO_SIZE: 'w300',\n};\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: API_TOKEN,\n  },\n};\n\nconst requestParameters = {\n  trending: {\n    pathname: 'trending/movie/day',\n    queries: { language: 'en-US' },\n  },\n  movie: {\n    pathname: 'search/movie',\n    queries: {\n      query: '',\n      include_adult: false,\n      language: 'en-US',\n      page: 1,\n    },\n  },\n  details: {\n    pathname: '',\n    queries: { language: 'en-US' },\n  },\n  cast: {\n    pathname: '',\n    queries: { language: 'en-US' },\n  },\n  reviews: {\n    pathname: '',\n    queries: { language: 'en-US', page: 1 },\n  },\n};\n\nasync function getTrending() {\n  const url = buildUrlString(requestParameters.trending);\n  try {\n    const response = await fetch(url, options);\n    return await response.json();\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nasync function getMovies(query) {\n  requestParameters.movie.queries.query = query;\n  const url = buildUrlString(requestParameters.movie);\n  try {\n    const response = await fetch(url, options);\n    return await response.json();\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nasync function getDetails(id) {\n  requestParameters.details.pathname = `movie/${id}`;\n  const url = buildUrlString(requestParameters.details);\n  try {\n    const response = await fetch(url, options);\n    return await response.json();\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nasync function getCast(id) {\n  requestParameters.cast.pathname = `movie/${id}/credits`;\n  const url = buildUrlString(requestParameters.cast);\n  try {\n    const response = await fetch(url, options);\n    return await response.json();\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nasync function getReviews(id) {\n  requestParameters.reviews.pathname = `movie/${id}/reviews`;\n  const url = buildUrlString(requestParameters.reviews);\n  try {\n    const response = await fetch(url, options);\n    return await response.json();\n  } catch (err) {\n    console.error(err);\n  }\n}\n\nfunction buildUrlString(requestParams) {\n  const { pathname, queries } = requestParams;\n  const queryString = buildQueryString(queries);\n  return `${ORIGIN}${pathname}?${queryString}`;\n}\n\nfunction buildQueryString(queries) {\n  return Object.entries(queries)\n    .map(([key, value]) => `${key}=${value}`)\n    .join('&');\n}\n\nexport { getTrending, getMovies, getDetails, getCast, getReviews, urlParams };\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["MoviesList","lazy","Loader","Home","useState","trending","setTrending","useEffect","fetchData","getTrending","data","trendingList","results","map","backdrop_path","id","poster_path","title","console","log","className","scss","Suspense","fallback","length","movies","urlParams","BASE_URL","POSTER_SIZE","PHOTO_SIZE","options","method","headers","accept","Authorization","requestParameters","pathname","queries","language","movie","query","include_adult","page","details","cast","reviews","url","buildUrlString","fetch","response","json","error","getMovies","getDetails","getCast","getReviews","requestParams","queryString","Object","entries","key","value","join","buildQueryString","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}